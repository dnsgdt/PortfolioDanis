<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Portfolio Danis Gouedart</title>

  <!-- police Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>

  <!-- Leaflet (carte claire) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <!-- Meta pour SEO -->
  <meta name="description" content="Portfolio de Danis Gouedart - BTS SIO SISR - alternant √† la Com√©die-Fran√ßaise.">
  <meta name="author" content="Danis Gouedart">

  <style>
    /* =========================== RESET & BASE =========================== */
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body { height:100%; }
    html { scroll-behavior:smooth; }
    body {
      font-family:'Inter', sans-serif;
      /* Fond d√©grad√© doux + variables de parallaxe */
      --grad1:#f0f4f8; --grad2:#e6eef7; --grad3:#ffffff; --grad4:#eef6ff;
      --parallaxX: 0%; --parallaxY: 0%;
      background:
        radial-gradient(1200px 800px at calc(10% + var(--parallaxX)) calc(20% + var(--parallaxY)), var(--grad1), transparent 60%),
        radial-gradient(1000px 900px at calc(90% - var(--parallaxX)) calc(10% + var(--parallaxY)), var(--grad2), transparent 60%),
        radial-gradient(900px 700px at calc(20% + var(--parallaxX)) calc(90% - var(--parallaxY)), var(--grad4), transparent 60%),
        linear-gradient(135deg, var(--grad1), var(--grad2) 40%, var(--grad3) 100%);
      background-size: 140% 140%, 140% 140%, 140% 140%, 100% 100%;
      animation: bgShift 35s ease-in-out infinite alternate;
      color:#111827;
      min-height:100vh;
      line-height:1.5;
      padding-bottom:60px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      transition: background 0.6s ease, color 0.6s ease, filter .4s ease;
    }
    @keyframes bgShift {
      0%   { background-position: 0% 0%, 100% 0%, 0% 100%, 0% 0%; }
      50%  { background-position: 30% 20%, 80% 10%, 10% 80%, 0% 0%; }
      100% { background-position: 60% 40%, 60% 20%, 20% 60%, 0% 0%; }
    }

    /* =========================== CANVAS RESEAU (derri√®re tout) =========================== */
    #bg-network {
      position: fixed; inset: 0; z-index: 0; pointer-events:none; opacity:.75;
    }

    /* =========================== INTRO √âCRAN =========================== */
    #intro-screen {
      position: fixed; inset: 0; z-index: 9999; display:flex; align-items:center; justify-content:center;
      backdrop-filter: blur(2px);
      background: inherit;
      flex-direction: column;
      gap:.75rem;
      transition: opacity .8s ease, transform .8s ease, visibility .8s ease;
    }
    #intro-screen.intro-hidden { opacity:0; transform: scale(.985) translateY(-4px); visibility:hidden; }
    #intro-logo {
      width:min(22vw, 96px); height:min(22vw, 96px);
      filter: drop-shadow(0 6px 18px rgba(37,99,235,.35));
    }
    #intro-content {
      font-size: clamp(2rem, 6vw, 4rem);
      font-weight: 800;
      letter-spacing: .03em;
      background: linear-gradient(90deg, #2563eb 0%, #60a5fa 30%, #93c5fd 50%, #60a5fa 70%, #2563eb 100%);
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 6px 18px rgba(37,99,235,.25));
      background-size: 200% auto;
      animation: shine 1.2s ease-in-out infinite alternate, introPop .6s ease-out both;
      text-align:center; padding: 0 .3em;
    }
    #intro-actions { display:flex; gap:.6rem; margin-top:.2rem; }
    #intro-skip, #intro-disable {
      font-size: .95rem; color:#0f172a; background: rgba(255,255,255,.6);
      border:1px solid rgba(0,0,0,.05); padding:.35rem .6rem; border-radius:10px;
      cursor:pointer; transition:.25s; backdrop-filter:saturate(140%) blur(8px);
    }
    #intro-disable { font-size: .88rem; opacity:.9; color:#1e40af; text-decoration:underline; background:transparent; border:none; }
    @keyframes shine { 0% { background-position: 0% 50%; } 100%{ background-position: 100% 50%; } }
    @keyframes introPop{ from { opacity:0; transform: translateY(8px) scale(.98);} to { opacity:1; transform:none; } }

    /* =========================== HEADER (glassmorphism) =========================== */
    header {
      background: rgba(31,41,55,.6);
      padding:1.1rem 2rem;
      box-shadow:0 10px 30px rgba(0,0,0,0.25);
      position:sticky; top:0; z-index:100;
      backdrop-filter:saturate(140%) blur(10px);
      border-bottom:1px solid rgba(255,255,255,.12);
      display:flex; align-items:center; gap:.75rem;
    }
    header h1 {
      font-size:1.9rem; color:#f9fafb; font-weight:700;
      letter-spacing:1px; text-shadow:1px 1px 3px rgba(0,0,0,0.3); margin:0;
    }
    .logo-wrap { display:flex; align-items:center; gap:.75rem; }

    /* =========================== PROGRESS BAR =========================== */
    .progress-bar {
      position:fixed; top:0; left:0; height:4px; width:0%;
      background: linear-gradient(90deg,#3b82f6,#60a5fa);
      z-index:1000; box-shadow:0 0 18px rgba(59,130,246,.6);
      transition: width .1s linear;
    }

    /* =========================== NAVIGATION + th√®me =========================== */
    nav {
      background: rgba(55,65,81,.55);
      padding:1rem 2rem;
      display:flex; align-items:center; justify-content:space-between; gap:1rem;
      box-shadow:0 6px 16px rgba(0,0,0,0.12);
      backdrop-filter:saturate(160%) blur(10px);
      position:sticky; top: calc(68px); z-index:100;
      border-bottom:1px solid rgba(255,255,255,.08);
      transition: transform .35s ease, opacity .35s ease;
    }
    nav ul { display:flex; list-style:none; gap:2rem; flex-wrap:wrap; align-items:center; }
    nav li { position:relative; }
    nav > ul > li > a {
      position:relative;
      text-decoration:none; color:#f3f4f6; font-weight:600;
      padding:0.6rem 1.2rem; border-radius:12px; transition:all 0.25s ease;
      background:rgba(75,85,99,.65); box-shadow:0 2px 6px rgba(0,0,0,0.2); overflow:hidden;
      border:1px solid rgba(255,255,255,.09);
    }
    nav > ul > li > a:hover { background:#2563eb; color:#fff; transform:translateY(-2px); box-shadow:0 4px 14px rgba(0,0,0,0.25); }
    nav > ul > li > a.active-link { outline:2px solid rgba(96,165,250,.7); background:rgba(59,130,246,.25); }

    /* Ripple DISCRET (nouvelle taille/dur√©e) */
    .ripple {
      position: absolute; border-radius: 50%; transform: scale(0); pointer-events: none;
      background: rgba(255, 255, 255, 0.45); animation: ripple 0.45s linear;
    }
    @keyframes ripple { to { transform: scale(3.5); opacity: 0; } }
    .tap-bump:active { transform: translateY(0) scale(.98); }

    nav ul ul {
      display:none; position:absolute; top:100%; left:0; background:rgba(75,85,99,.9);
      border-radius:10px; padding:0.5rem 0; z-index:10; box-shadow:0 4px 14px rgba(0,0,0,0.2);
      backdrop-filter: blur(8px);
    }
    nav li:hover > ul { display:block; }
    nav ul ul li a { display:block; padding:0.6rem 1.5rem; color:#f3f4f6; text-decoration:none; transition:all 0.2s ease; }
    nav ul ul li a:hover { background:#2563eb; color:#fff; transform:translateY(-2px); box-shadow:0 4px 12px rgba(0,0,0,0.2); }

    .actions { display:flex; align-items:center; gap:.6rem; }
    .btn {
      padding:.55rem .85rem; border-radius:12px; border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.2); color:#ffffff; cursor:pointer;
      box-shadow:0 2px 10px rgba(0,0,0,.15); transition:.25s; backdrop-filter: blur(8px);
    }
    .btn:hover{ transform:translateY(-1px); background:rgba(37,99,235,.5); }
    .btn:active{ transform:translateY(0); }

    .theme-toggle {
      position:relative; width:62px; height:34px; border-radius:999px; border:none; cursor:pointer;
      background:linear-gradient(180deg,#e5e7eb,#cbd5e1);
      padding:4px; box-shadow:inset 0 2px 6px rgba(0,0,0,.15), 0 4px 12px rgba(0,0,0,.15);
      transition:background .3s ease, transform .2s ease;
    }
    .theme-toggle:hover { transform:translateY(-1px); }
    .theme-toggle .thumb {
      position:absolute; top:4px; left:4px; width:26px; height:26px; border-radius:50%; background:#fff;
      display:grid; place-items:center; box-shadow:0 4px 10px rgba(0,0,0,.18);
      transition:left .35s cubic-bezier(.2,.8,.2,1), transform .35s, background .35s; font-size:16px;
    }
    body[data-theme="dark"] .theme-toggle { background:linear-gradient(180deg,#0b1220,#111827); }
    body[data-theme="dark"] .theme-toggle .thumb { left:32px; background:#0f172a; color:#e2e8f0; }

    /* =========================== MAIN =========================== */
    main { padding:4rem 2rem; max-width:1100px; margin:0 auto; position:relative; z-index:1; }
    section { display:none; animation:fadeIn .5s ease-out forwards; background:transparent; will-change:opacity, transform; }
    section.active { display:block; }
    @keyframes fadeIn { from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)} }

    .transition-enter { opacity:0; transform:translateY(8px); }
    .transition-enter-active { opacity:1; transform:none; transition:.45s cubic-bezier(.2,.8,.2,1); }

    /* Titres brillants au survol + surbrillance quand visible */
    h2 { font-size:2.2rem; margin-bottom:1.2rem; border-bottom:3px solid #d1d5db; padding-bottom:0.6rem; color:#1f2937; position:relative; }
    h2:hover::after{
      content:""; position:absolute; left:0; bottom:-2px; width:100%; height:3px;
      background:linear-gradient(90deg,transparent,#60a5fa,transparent); filter:blur(.5px);
      animation:shineLine 1.2s ease;
    }
    h2.inview { text-shadow:0 3px 22px rgba(59,130,246,.28); }
    @keyframes shineLine{ from{ transform:translateX(-20%); opacity:.2 } to{ transform:translateX(20%); opacity:1 } }
    h3 { margin-top:1.2rem; margin-bottom:0.6rem; color:#1f2937; }
    p, li { font-size:1.05rem; line-height:1.7; color:#1f2937; }
    ul li { margin-left:1.2rem; margin-bottom:0.6rem; }
    a { color:#2563eb; text-decoration:none; transition:transform .25s, color .25s; }
    a:hover { color:#1d4ed8; text-decoration:underline; transform:translateY(-2px); }
    iframe,img { max-width:100%; height:auto; border-radius:12px; display:block; }

    /* =========================== ORGANIGRAMME =========================== */
    .organigramme {
      margin-top:1.5rem; padding:1.75rem; background:linear-gradient(180deg,rgba(248,250,252,.65) 0%, rgba(238,242,255,.65) 100%);
      border-radius:20px; display:flex; flex-direction:column; gap:18px;
      box-shadow:0 8px 28px rgba(2,6,23,0.08), inset 0 1px 0 rgba(255,255,255,0.7);
      position:relative; overflow:hidden; backdrop-filter: blur(8px) saturate(130%);
    }
    .organigramme::after{
      content:""; position:absolute; inset:-20%;
      background:radial-gradient(40% 40% at 60% 0%, rgba(37,99,235,0.08) 0, transparent 60%),
                 radial-gradient(30% 30% at 0% 80%, rgba(99,102,241,0.08) 0, transparent 60%);
      animation:bgFloat 24s linear infinite; pointer-events:none;
    }
    @keyframes bgFloat { to { transform:translate3d(2%, -2%, 0) rotate(1deg);} }
    .org-level { position:relative; display:flex; flex-direction:column; align-items:center; gap:12px; }
    .org-row { display:flex; gap:1rem; flex-wrap:wrap; justify-content:center; }
    .org-card{ background:linear-gradient(135deg,#2563eb,#1d4ed8); color:#fff; padding:0.9rem 1.1rem; border-radius:14px; text-align:center; min-width:190px;
      box-shadow:0 10px 24px rgba(2,6,23,0.18); transition:transform .35s, box-shadow .35s, filter .35s; position:relative; isolation:isolate; }
    .org-card:hover{ transform:translateY(-6px) scale(1.02); box-shadow:0 16px 36px rgba(2,6,23,0.28); filter:saturate(1.1); }
    .org-card.alt{ background:linear-gradient(135deg,#3b82f6,#60a5fa); }
    .org-title{ font-weight:700; color:#1f2937; text-align:center; padding:0.25rem 0.75rem; border-radius:12px; line-height:1.3; background:rgba(99,102,241,0.08); border:1px solid rgba(99,102,241,0.18); box-shadow:inset 0 1px 0 rgba(255,255,255,0.7); }
    [data-level]{ opacity:0; transform:translateY(10px) scale(.98); animation:orgIn .6s forwards; }
    [data-level="1"]{ animation-delay:.05s; } [data-level="2"]{ animation-delay:.15s; } [data-level="3"]{ animation-delay:.25s; } [data-level="4"]{ animation-delay:.35s; }
    @keyframes orgIn{ to{ opacity:1; transform:translateY(0) scale(1); } }

    /* =========================== PHOTO APPRENTI =========================== */
    .photo-container { float:right; margin:0 0 1.5rem 2rem; max-width:200px; text-align:center; }
    .photo-container img {
      width:180px; height:180px; object-fit:cover; border-radius:50%;
      box-shadow:0 6px 20px rgba(0,0,0,0.3);
      transition:transform .45s cubic-bezier(.2,.8,.2,1), box-shadow .45s, filter .35s;
      border:6px solid rgba(255,255,255,0.9);
      background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.2));
    }
    .photo-container img.loaded { opacity:1; transform:none; transition:opacity .6s ease, transform .6s ease; }
    .photo-container img:hover { transform:scale(1.05); box-shadow:0 10px 28px rgba(59,130,246,0.45), 0 0 0 8px rgba(59,130,246,0.1); filter:saturate(1.03); }

    /* =========================== CARDS =========================== */
    .card { background:linear-gradient(135deg,rgba(255,255,255,.85),rgba(240,244,248,.85)); padding:1.2rem 1.5rem; border-radius:16px; margin-top:1.2rem; box-shadow:0 6px 20px rgba(0,0,0,0.12); transition:transform 0.3s, box-shadow 0.3s; backdrop-filter: blur(8px) saturate(130%); border:1px solid rgba(255,255,255,.6);}
    .card:hover { transform:translateY(-4px); box-shadow:0 12px 28px rgba(0,0,0,0.2); }

    /* =========================== MISSIONS =========================== */
    .mission-section { display:flex; flex-direction:column; gap:0.8rem; }
    .mission-card {
      position:relative; overflow:hidden;
      display:flex; align-items:center; gap:1rem; background:linear-gradient(135deg,rgba(224,242,254,.85),rgba(186,230,253,.85));
      padding:1rem 1.4rem; margin-bottom:1rem; border-radius:18px; box-shadow:0 6px 20px rgba(0,0,0,0.12);
      transition:all 0.3s; text-decoration:none; color:#111827;
      backdrop-filter: blur(6px) saturate(120%); border:1px solid rgba(255,255,255,.6);
    }
    .mission-card:hover { transform:translateY(-5px) scale(1.02); box-shadow:0 12px 30px rgba(0,0,0,0.2); background:linear-gradient(135deg,#60a5fa,#3b82f6); color:#fff; }
    .mission-card img { width:42px; height:42px; transition:transform 0.3s; }
    .mission-card:hover img { transform:scale(1.1); }
    .mission-card span { font-weight:600; }
    .mission-card .ripple { background:rgba(255,255,255,.45); }

    /* =========================== ACCUEIL =========================== */
    .welcome { text-align:center; padding:3rem 1.5rem; background:linear-gradient(135deg,rgba(239,246,255,.85),rgba(224,242,254,.85)); border-radius:20px; box-shadow:0 8px 24px rgba(0,0,0,0.1); margin-bottom:1.5rem; backdrop-filter: blur(6px); border:1px solid rgba(255,255,255,.6);}
    .welcome h2 { font-size:2.5rem; margin-bottom:1rem; color:#1e3a8a; }
    .welcome p { font-size:1.1rem; max-width:900px; margin:0.5rem auto; color:#0f172a; }
    .welcome-links { margin-top:2rem; display:flex; justify-content:center; gap:0.8rem; flex-wrap:wrap; }
    .welcome-links a { display:inline-block; padding:0.6rem 1rem; border-radius:10px; background:#2563eb; color:white; font-weight:600; text-decoration:none; transition:transform 0.2s, box-shadow 0.2s; position:relative; overflow:hidden; }
    .welcome-links a:hover { transform:translateY(-3px); box-shadow:0 10px 22px rgba(37,99,235,0.18); }

    /* =========================== BOUTON HAUT DE PAGE =========================== */
    #backToTop {
      position:fixed; right:18px; bottom:18px; width:44px; height:44px; border-radius:999px;
      border:none; background:#2563eb; color:#fff; font-size:20px; box-shadow:0 10px 24px rgba(37,99,235,.35);
      display:grid; place-items:center; cursor:pointer; opacity:0; transform:translateY(8px); pointer-events:none; transition:.25s;
      z-index:999;
    }
    #backToTop.show { opacity:1; transform:none; pointer-events:auto; }
    #backToTop:hover { filter:brightness(1.05); transform:translateY(-2px); }

    /* =========================== ENCART T√âL√âCHARGEMENTS =========================== */
    .downloads {
      margin-top:1.25rem; padding:1rem 1.2rem; border-radius:14px;
      background:rgba(59,130,246,.08); border:1px dashed rgba(59,130,246,.3);
    }
    .downloads h4 { margin:0 0 .5rem 0; color:#1e3a8a; }
    .downloads ul { margin:0; padding-left:1.2rem; }
    .downloads a { font-weight:600; }

    /* =========================== BARRE JURY FLOTTANTE =========================== */
    #jury-controls {
      position: fixed; left:16px; bottom:16px; z-index: 1001;
      display:none; align-items:center; gap:8px;
      background: rgba(37,99,235,.28);
      border: 1px solid rgba(96,165,250,.6);
      box-shadow: 0 10px 28px rgba(37,99,235,.35);
      backdrop-filter: blur(8px);
      padding: .45rem .6rem; border-radius: 14px;
      animation: popIn .25s ease-out;
    }
    #jury-controls button{
      background: rgba(255,255,255,.85);
      color:#0f172a; border: none; border-radius: 10px; cursor: pointer;
      padding:.45rem .6rem; font-weight:700; box-shadow:0 4px 10px rgba(0,0,0,.15);
      transition:.2s; min-width:38px;
    }
    #jury-controls button:hover{ transform: translateY(-1px); }
    #jury-controls .quit { background:#ef4444; color:#fff; }
    @keyframes popIn{ from{ transform:translateY(6px); opacity:0 } to{ transform:none; opacity:1 } }

    /* =========================== PRINT =========================== */
    @media print {
      nav, .welcome-links, .org-card, #backToTop, .progress-bar, #intro-screen, #bg-network, .actions, #jury-controls { display:none !important; }
      body { background:white; color:black; }
      main { padding:0; }
    }

    /* =========================== MODE SOMBRE =========================== */
    body[data-theme="dark"] {
      --grad1:#0b1220; --grad2:#0f172a; --grad3:#0b1220; --grad4:#111827;
      color:#e5e7eb;
    }
    body[data-theme="dark"] h2, body[data-theme="dark"] h3, body[data-theme="dark"] p, body[data-theme="dark"] li { color:#e5e7eb; }
    body[data-theme="dark"] h2 { border-bottom-color:#334155; }
    body[data-theme="dark"] a { color:#60a5fa; } body[data-theme="dark"] a:hover { color:#93c5fd; }
    body[data-theme="dark"] header { background: rgba(15,23,42,.6); }
    body[data-theme="dark"] nav { background: rgba(17,24,39,.55); }
    body[data-theme="dark"] nav > ul > li > a { background:rgba(31,41,55,.65); color:#e5e7eb; }
    body[data-theme="dark"] nav > ul > li:hover > a { background:#2563eb; }
    body[data-theme="dark"] nav ul ul { background:rgba(31,41,55,.9); }
    body[data-theme="dark"] .welcome { background:linear-gradient(135deg,rgba(11,18,32,.85),rgba(15,23,42,.85)); box-shadow:0 8px 24px rgba(0,0,0,.5); }
    body[data-theme="dark"] .card { background:linear-gradient(135deg,rgba(16,24,39,.85),rgba(15,23,42,.85)); box-shadow:0 6px 20px rgba(0,0,0,.5); }
    body[data-theme="dark"] .mission-card { background:linear-gradient(135deg,rgba(30,58,138,.85),rgba(30,64,175,.85)); color:#e5e7eb; }
    body[data-theme="dark"] .mission-card:hover { background:linear-gradient(135deg,#3b82f6,#2563eb); color:#fff; }
    body[data-theme="dark"] .organigramme { background:linear-gradient(180deg,rgba(11,18,32,.65) 0%, rgba(15,23,42,.65) 100%); box-shadow:0 8px 28px rgba(0,0,0,.6), inset 0 1px 0 rgba(255,255,255,0.05); }
    body[data-theme="dark"] .org-title { color:#e5e7eb; background:rgba(99,102,241,0.12); border-color:rgba(99,102,241,0.25); }

    /* =========================== MAP (Leaflet) =========================== */
    .map-wrap { margin-top:1.25rem; }
    .map-title { font-weight:700; color:#1f2937; margin-bottom:.5rem; font-size:1rem; opacity:.9; }
    #map-cf {
      width:100%;
      height:380px;
      border-radius:16px;
      border:1px solid rgba(0,0,0,.08);
      box-shadow:0 10px 24px rgba(0,0,0,.12);
      overflow:hidden;
    }
    body[data-theme="dark"] .map-title { color:#e5e7eb; }
    body[data-theme="dark"] #map-cf { border-color:rgba(255,255,255,.08); box-shadow:0 10px 24px rgba(0,0,0,.55); }
  </style>
</head>
<body>
  <!-- CANVAS R√âSEAU -->
  <canvas id="bg-network" aria-hidden="true"></canvas>

  <!-- Barre de progression -->
  <div class="progress-bar" id="progress"></div>

  <!-- INTRO SCREEN -->
  <div id="intro-screen" aria-hidden="true">
    <!-- Logo DG bleu √©lectrique -->
    <svg id="intro-logo" viewBox="0 0 128 128" aria-hidden="true">
      <defs>
        <filter id="g" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="4" result="b"/><feMerge>
            <feMergeNode in="b"/><feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <linearGradient id="lg" x1="0" x2="1">
          <stop offset="0" stop-color="#22aaff"/><stop offset="1" stop-color="#60a5fa"/>
        </linearGradient>
      </defs>
      <rect rx="24" ry="24" width="128" height="128" fill="#000"/>
      <text x="50%" y="50%" text-anchor="middle" dominant-baseline="central"
            font-family="Inter, system-ui, sans-serif" font-weight="800" font-size="76"
            fill="url(#lg)" filter="url(#g)">DG</text>
    </svg>

    <div id="intro-content">Danis Gouedart</div>
    <div id="intro-actions">
      <button id="intro-skip" aria-label="Passer l'intro">Passer</button>
      <button id="intro-disable" aria-label="Ne plus afficher l'intro">Ne plus afficher l‚Äôintro</button>
    </div>
  </div>

  <!-- Son whoosh simple (h√©berg√©) -->
  <audio id="intro-sound" preload="auto">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_1b71e3d6e2.mp3?filename=soft-transition-whoosh-1-20360.mp3" type="audio/mpeg">
  </audio>

  <header>
    <div class="logo-wrap" aria-hidden="true">
      <!-- Logo header -->
      <svg width="40" height="40" viewBox="0 0 128 128">
        <defs>
          <linearGradient id="lg2" x1="0" x2="1">
            <stop offset="0" stop-color="#22aaff"/><stop offset="1" stop-color="#60a5fa"/>
          </linearGradient>
        </defs>
        <rect rx="14" ry="14" width="128" height="128" fill="#000"/>
        <text x="50%" y="50%" text-anchor="middle" dominant-baseline="central"
              font-family="Inter, system-ui, sans-serif" font-weight="800" font-size="70"
              fill="url(#lg2)">DG</text>
      </svg>
      <h1>Portfolio Danis Gouedart</h1>
    </div>
  </header>

  <nav aria-label="Navigation principale" class="tap-bump">
    <ul>
      <li><a href="#" data-target="accueil">Accueil</a></li>
      <li>
        <a href="#" aria-haspopup="true">Pr√©sentation</a>
        <ul>
          <li><a href="#" data-target="presentation_apprenti">Pr√©sentation de l‚Äôapprenti</a></li>
          <li><a href="#" data-target="presentation_entreprise">Pr√©sentation de l‚Äôentreprise</a></li>
        </ul>
      </li>
      <li>
        <a href="#" aria-haspopup="true">√âpreuve E5</a>
        <ul>
          <li><a href="#" data-target="epreuveE5_synthese">Tableau de synth√®se</a></li>
          <li><a href="#" data-target="epreuveE5_formation">Missions formation</a></li>
          <li><a href="#" data-target="epreuveE5_entreprise">Missions entreprise</a></li>
          <li><a href="#" data-target="epreuveE5_certifications">Certifications</a></li>
        </ul>
      </li>
      <li>
        <a href="#" aria-haspopup="true">√âpreuve E6</a>
        <ul>
          <li><a href="#" data-target="epreuveE6_situation">Situation professionnelle</a></li>
          <li><a href="#" data-target="epreuveE6_production">Production associ√©e</a></li>
        </ul>
      </li>
      <li><a href="#" data-target="veille">Veille technologique</a></li>
    </ul>

    <div class="actions">
      <button id="presentation-mode" class="btn" aria-label="Mode Pr√©sentation Jury">üé§ Pr√©sentation</button>
      <button id="theme-toggle" class="theme-toggle" aria-label="Basculer le th√®me">
        <div class="thumb">üåô</div>
      </button>
    </div>
  </nav>

  <main id="main">
    <section id="accueil" class="active" aria-labelledby="accueil-title">
      <div class="welcome reveal" role="region" aria-label="Section d'accueil">
        <h2 id="accueil-title">Bienvenue</h2>
        <p>Bienvenue sur mon portfolio. Naviguez √† travers les onglets ci-dessus pour d√©couvrir mon parcours, mes comp√©tences et mes projets.</p>
        <div class="welcome-links" role="navigation" aria-label="Liens rapides">
          <a href="#" data-target="presentation_apprenti">Pr√©sentation apprenti</a>
          <a href="#" data-target="presentation_entreprise">Pr√©sentation entreprise</a>
          <a href="#" data-target="epreuveE5_synthese">Tableau de synth√®se</a>
          <a href="#" data-target="epreuveE5_formation">Missions formation</a>
          <a href="#" data-target="epreuveE5_entreprise">Missions entreprise</a>
        </div>
      </div>
    </section>

    <section id="presentation_apprenti" aria-labelledby="apprenti-title">
      <h2 id="apprenti-title">Pr√©sentation de l‚Äôapprenti</h2>
      <div class="photo-container" aria-hidden="false">
        <img src="photo_danis.jpg" alt="Photo de Danis Gouedart" loading="lazy" />
      </div>
      <p>Je suis Danis Gouedart, √©tudiant en BTS SIO option SISR √† Montsouris. Passionn√© par les syst√®mes, r√©seaux et la cybers√©curit√©.</p>
      <h3>Mon parcours scolaire :</h3>
      <p>Baccalaur√©at professionnel Syst√®mes num√©riques option SISR obtenu en 2023, suivi du BTS SIO option SISR au CFA Campus Montsouris.</p>
      <h3>Mon parcours professionnel :</h3>
      <p>Alternant √† la Com√©die-Fran√ßaise au sein de la DSI, o√π j‚Äôassure l‚Äôinstallation, la maintenance et la s√©curit√© des syst√®mes informatiques.</p>
      <div class="competences">
        <h3>Comp√©tences informatiques :</h3>
        <ul>
          <li>Administration syst√®me (Windows Server 2022, Active Directory)</li>
          <li>R√©seaux et configuration DHCP, DNS, routage</li>
          <li>S√©curit√© informatique (pare-feu, sauvegarde, audit)</li>
          <li>Virtualisation (VirtualBox, Hyper-V)</li>
        </ul>
      </div>
      <h3>Contact :</h3>
      <p>Email : danis.gouedart@gmail.com<br>T√©l√©phone : 07 68 56 40 00</p>
      <p><a href="https://1drv.ms/b/c/3c089fa1bf123036/EcVjais7IoNOmCaSWsIxfMUBmC3raWLkOnXTnz_uZcBzjQ?e=RO0rUr" target="_blank">Voir mon CV (PDF)</a></p>
      <p><a href="https://www.linkedin.com/feed/" target="_blank">Voir mon profil LinkedIn</a></p>
    </section>

    <section id="presentation_entreprise" aria-labelledby="entreprise-title">
      <h2 id="entreprise-title">Pr√©sentation de l‚Äôentreprise</h2>
      <p>La Com√©die-Fran√ßaise, fond√©e en 1680, est l‚Äôune des plus anciennes institutions culturelles de France, situ√©e au c≈ìur de Paris, dans le 1er arrondissement. Elle joue un r√¥le majeur dans la diffusion du th√©√¢tre classique et contemporain.</p>
      <h3>Chiffres cl√©s :</h3>
      <ul>
        <li>Plus de 400 employ√©s (administration, technique et artistique)</li>
        <li>Chiffre d‚Äôaffaires annuel : environ 60 millions d‚Äôeuros</li>
        <li>Plus de 250 repr√©sentations par an</li>
        <li>Rayonnement national et international avec tourn√©es et partenariats</li>
      </ul>
      <h3>Structure et missions :</h3>
      <p>La DSI assure la s√©curit√©, la maintenance, le d√©ploiement et l‚Äôinnovation des syst√®mes informatiques. Les alternants participent √† des projets r√©els et aux op√©rations de s√©curisation du r√©seau et des donn√©es.</p>

      <!-- Organigramme mis √† jour -->
      <div class="organigramme" aria-hidden="false">
        <div class="org-level">
          <div class="org-card" data-level="1"><strong>Marc Le Bihan</strong><br>Directeur DSI</div>
        </div>
        <div class="org-level">
          <div class="org-card" data-level="2"><strong>Fabien Laverdat</strong><br>Adjoint DSI ‚Äì R√©seau & S√©curit√©</div>
        </div>
        <div class="org-level">
          <div class="org-row">
            <div class="org-card" data-level="3"><strong>√âtienne Chevalier</strong><br>Admin Syst√®me</div>
            <div class="org-card" data-level="3"><strong>Micha√´l Djossou</strong><br>Admin Syst√®me</div>
            <div class="org-card" data-level="3"><strong>Tania Nino</strong><br>Administratrice Parc Informatique<br><small>Responsable Sant√© des Donn√©es</small></div>
          </div>
        </div>
        <div class="org-level">
          <div class="org-title">Alternant Technicien IT ‚Ä¢ Direction des Syst√®mes d'Information</div>
          <div class="org-row">
            <div class="org-card alt" data-level="4"><strong>Danis Gouedart</strong><br>Alternant Syst√®mes & R√©seaux</div>
            <div class="org-card alt" data-level="4"><strong>Rapha√´l Lobo</strong><br>Alternant Syst√®mes & R√©seaux</div>
          </div>
        </div>
      </div>

      <!-- Localisation (carte claire) -->
      <div class="map-wrap">
        <div class="map-title">Localisation ‚Äî Com√©die-Fran√ßaise (carte)</div>
        <div id="map-cf" role="region" aria-label="Carte de localisation de la Com√©die-Fran√ßaise"></div>
      </div>
    </section>

    <section id="epreuveE5_synthese" aria-labelledby="e5s-title">
      <h2 id="e5s-title">√âpreuve E5 ‚Äì Tableau de synth√®se</h2>
      <p>Tableau de synth√®se des activit√©s et comp√©tences d√©velopp√©es :</p>
      <table border="1" style="width:100%; border-collapse:collapse; text-align:center; margin-top:1rem;">
        <tr style="background:#2563eb; color:#fff;">
          <th>Activit√©</th>
          <th>Description</th>
          <th>Comp√©tences mobilis√©es</th>
          <th>Outils utilis√©s</th>
        </tr>
        <tr>
          <td>Installation NAS</td>
          <td>Installation et configuration compl√®te de OpenMediaVault</td>
          <td>Gestion stockage, permissions, sauvegardes</td>
          <td>OpenMediaVault, Iperius Backup</td>
        </tr>
        <tr>
          <td>Configuration DHCP</td>
          <td>Mise en place du service DHCP et tests r√©seau</td>
          <td>R√©seaux, IP statiques et dynamiques, routage</td>
          <td>Windows Server, Wireshark</td>
        </tr>
        <tr>
          <td>Sauvegarde & restauration</td>
          <td>D√©ploiement de proc√©dures de sauvegarde et restauration avec Iperius Backup</td>
          <td>S√©curit√©, administration, audit</td>
          <td>Iperius Backup</td>
        </tr>
        <tr>
          <td>Gestion Active Directory</td>
          <td>Cr√©ation de comptes, groupes et gestion des droits</td>
          <td>Administration Windows, s√©curit√©</td>
          <td>Windows Server, Active Directory</td>
        </tr>
        <tr>
          <td>S√©curit√© parc informatique</td>
          <td>Audit, mise √† jour, s√©curisation et surveillance r√©seau</td>
          <td>S√©curit√© informatique, supervision</td>
          <td>Wireshark, antivirus, pare-feu</td>
        </tr>
      </table>

      <!-- Lien Excel du tableau de synth√®se (local) -->
      <div class="downloads">
        <h4>üìé T√©l√©chargements</h4>
        <ul>
          <li>
            <a href="docs/tableau_synthese.xlsx" download target="_blank">T√©l√©charger le tableau de synth√®se (Excel)</a>
            <!-- COLLER ICI TON LIEN ONEDRIVE DU TABLEAU -->
          </li>
        </ul>
      </div>
    </section>

    <section id="epreuveE5_formation" aria-labelledby="e5f-title">
      <h2 id="e5f-title">Missions r√©alis√©es en formation</h2>
      <div class="mission-section">
        <!-- Liens Word (locaux) + commentaires OneDrive -->
        <a href="docs/mission_wifi_bluetooth.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>D√©couverte et pr√©sentation des r√©seaux sans-fil wifi/bluetooth</span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_icmp_arp.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>Protocole ICMP/ARP</span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_gestionnaire_disques.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>Gestionnaire de disques</span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_configuration_dhcp.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>Confiuration DHCP</span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_atelier_acl.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>Atelier ACL</span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_installation_debian_serveur_web.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>Installation Debian et serveur WEB</span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_deploiement_portfolio.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>D√©ploiement d'un site internet (Portfolio)</span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->
      </div>
    </section>

    <section id="epreuveE5_entreprise" aria-labelledby="e5e-title">
      <h2 id="e5e-title">Missions r√©alis√©es en entreprise</h2>
      <div class="mission-section">

        <a href="docs/mission_installation_materiel.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>Installation et configuration de mat√©riel informatique (pc, imprimante, √©crans) ‚Äî <em>tous les jours</em></span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_gestion_comptes_ad.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>Gestion des comptes utilisateurs: Cr√©er, modifier et supprimer les comptes utilisateurs dans l'annuaire Active Directory, r√©initialiser les mots de passe et r√©soudre les probl√®mes d'acc√®s ‚Äî <em>tous les jours</em></span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_formation_utilisateurs.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>Formation des utilisateurs sur les outils informatiques: Initialisation √† Onedrive, Keepass et Interface entreprise ‚Äî <em>tous les jours</em></span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_gestion_parc_informatique.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>Gestion du Parc Informatique: Inventaire et suivi du mat√©riel, Gestion des logiciels (gestions de licence) ‚Äî <em>tous les jours</em></span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_procedure_teletravail.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>R√©daction d‚Äôune proc√©dure pour les utilisateurs en t√©l√©travail et en mobilit√©.</span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_probleme_reseau.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>Probl√®me de r√©seau g√©n√©ral ‚Äî <em>tous les jours</em></span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

        <a href="docs/mission_backup_comptabilite.docx" class="mission-card tap-bump" download target="_blank">
          <img src="icons/word.png" alt="Icone Word" loading="lazy"/>
          <span>Faire un Backup sur serveur de comptabilit√© ‚Äî <em>1 fois par mois</em></span>
        </a><!-- COLLER ICI TON LIEN ONEDRIVE -->

      </div>
    </section>

    <section id="epreuveE5_certifications" aria-labelledby="e5c-title">
      <h2 id="e5c-title">Certifications obtenues</h2>
      <ul>
        <li>Microsoft Certified: Modern Desktop Administrator Associate</li>
        <li>CompTIA Network+</li>
      </ul>
    </section>

    <section id="epreuveE6_situation" aria-labelledby="e6s-title">
      <h2 id="e6s-title">√âpreuve E6 ‚Äì Situation professionnelle</h2>
      <p>D√©veloppement d‚Äôune solution pour la gestion et la s√©curisation du r√©seau interne de la Com√©die-Fran√ßaise.</p>
    </section>

    <section id="epreuveE6_production" aria-labelledby="e6p-title">
      <h2 id="e6p-title">√âpreuve E6 ‚Äì Production associ√©e</h2>
      <p>R√©alisation d‚Äôune documentation compl√®te et de proc√©dures d√©taill√©es pour la maintenance et l‚Äôadministration du r√©seau.</p>
    </section>

    <section id="veille" aria-labelledby="veille-title">
      <h2 id="veille-title">Veille technologique</h2>
      <p>Je consacre ma veille √† la <strong>cybers√©curit√©</strong> et √† l‚Äô<strong>intelligence artificielle</strong>. Je consulte r√©guli√®rement :</p>
      <ul>
        <li><a href="https://www.cert.ssi.gouv.fr/" target="_blank">ANSSI ‚Äì Agence nationale de la s√©curit√© des syst√®mes d‚Äôinformation</a></li>
        <li><a href="https://www.csoonline.com/category/security/" target="_blank">CSO Online ‚Äì S√©curit√© informatique et tendances</a></li>
        <li><a href="https://www.coursera.org/learn/cyber-security" target="_blank">MOOC Coursera : Cybersecurity Fundamentals</a></li>
        <li><a href="https://www.coursera.org/learn/ai-for-everyone" target="_blank">MOOC Coursera : AI for Everyone</a></li>
        <li><a href="https://www.ibm.com/topics/cybersecurity" target="_blank">IBM Security ‚Äì Guides et ressources</a></li>
        <li><a href="https://www.nist.gov/cyberframework" target="_blank">NIST Cybersecurity Framework</a></li>
      </ul>
      <p>J‚Äôanalyse les tendances, nouvelles menaces et techniques de d√©fense, notamment :</p>
      <ul>
        <li>Protection des infrastructures r√©seau contre les attaques DDoS, ransomware, phishing.</li>
        <li>Utilisation de l‚ÄôIA pour la d√©tection des anomalies et la pr√©diction des menaces.</li>
        <li>Automatisation des audits de s√©curit√© et des tests de p√©n√©tration.</li>
        <li>Veille sur la r√©glementation RGPD et ISO 27001.</li>
      </ul>
      <p>Je compile cette veille dans des rapports mensuels et guides pratiques pour am√©liorer la s√©curit√© des syst√®mes que j‚Äôadministre.</p>
    </section>
  </main>

  <!-- Bouton haut de page -->
  <button id="backToTop" aria-label="Revenir en haut">‚Üë</button>

  <!-- Barre Jury flottante -->
  <div id="jury-controls" role="toolbar" aria-label="Contr√¥les pr√©sentation jury">
    <button id="jury-prev" title="Section pr√©c√©dente">‚¨ÖÔ∏è</button>
    <button id="jury-next" title="Section suivante">‚û°Ô∏è</button>
    <button id="jury-quit" class="quit" title="Quitter la pr√©sentation">‚ùå</button>
  </div>

  <footer style="max-width:1100px;margin:2rem auto 3rem; padding:0 2rem; color:#475569; text-align:center;">
    <span id="sig">Site r√©alis√© par <strong>Danis Gouedart</strong> ‚Äî BTS SIO SISR ‚Äî ¬© 2025</span>
  </footer>

  <script>
    /* ====================== AUDIO CLICK (Web Audio) ====================== */
    const AudioKit = (() => {
      let ctx;
      const getCtx = () => (ctx ||= new (window.AudioContext || window.webkitAudioContext)());
      function envGain(duration=0.12, peak=0.5){
        const a = getCtx();
        const g = a.createGain();
        const now = a.currentTime;
        g.gain.setValueAtTime(0.0001, now);
        g.gain.exponentialRampToValueAtTime(peak, now + 0.02);
        g.gain.exponentialRampToValueAtTime(0.0001, now + duration);
        return g;
      }
      function playClick(){
        try{
          const a = getCtx();
          const o = a.createOscillator();
          const g = envGain(0.12, 0.45);
          o.type = 'square';
          o.frequency.setValueAtTime(800, a.currentTime);
          o.frequency.exponentialRampToValueAtTime(220, a.currentTime + 0.1);
          o.connect(g).connect(a.destination);
          o.start(); o.stop(a.currentTime + 0.12);
        }catch(e){}
      }
      return { playClick };
    })();

    // ========= Canvas R√©seau (subtil, adaptatif au th√®me) =========
    (function(){
      const c = document.getElementById('bg-network');
      const ctx = c.getContext('2d');
      let w, h, DPR, nodes, links;
      function resize(){
        DPR = Math.min(window.devicePixelRatio || 1, 2);
        w = c.width  = innerWidth * DPR;
        h = c.height = innerHeight * DPR;
        c.style.width = innerWidth + 'px';
        c.style.height = innerHeight + 'px';
        initGraph();
      }
      function themeColors(){
        const dark = document.body.dataset.theme === 'dark';
        return {
          node: dark ? 'rgba(56,132,255,0.85)' : 'rgba(96,165,250,0.95)',
          line: dark ? 'rgba(37,99,235,0.22)'  : 'rgba(59,130,246,0.20)',
          glow: dark ? 'rgba(30,64,175,0.65)'  : 'rgba(96,165,250,0.55)'
        };
      }
      function initGraph(){
        const count = Math.round((innerWidth * innerHeight) / 22000);
        nodes = [];
        for(let i=0;i<count;i++){
          nodes.push({
            x: Math.random()*w, y: Math.random()*h,
            vx: (Math.random()-.5)*0.18, vy:(Math.random()-.5)*0.18,
            r: Math.random()*2 + 1.2
          });
        }
        links = [];
        for(let i=0;i<nodes.length;i++){
          for(let j=i+1;j<nodes.length;j++){
            const dx = nodes[i].x - nodes[j].x;
            const dy = nodes[i].y - nodes[j].y;
            const d2 = dx*dx + dy*dy;
            const max = (180*DPR);
            if(d2 < max*max){
              links.push({ a:i, b:j, d: Math.sqrt(d2) });
            }
          }
        }
      }
      function tick(){
        const { node, line, glow } = themeColors();
        ctx.clearRect(0,0,w,h);
        ctx.lineWidth = 1;
        for(const L of links){
          const A = nodes[L.a], B = nodes[L.b];
          const dx = A.x - B.x, dy = A.y - B.y;
          const d = Math.hypot(dx, dy);
          const alpha = Math.max(0, 1 - d / (180*DPR));
          if(alpha <= 0) continue;
          ctx.strokeStyle = line.replace(/[\d.]+\)$/,'') + (alpha.toFixed(3) + ')');
          ctx.beginPath();
          ctx.moveTo(A.x, A.y);
          ctx.lineTo(B.x, B.y);
          ctx.stroke();
        }
        for(const p of nodes){
          const g = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.r*10);
          g.addColorStop(0, glow);
          g.addColorStop(1, 'rgba(0,0,0,0)');
          ctx.fillStyle = g;
          ctx.beginPath(); ctx.arc(p.x, p.y, p.r*10, 0, Math.PI*2); ctx.fill();

          ctx.fillStyle = node;
          ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fill();

          p.x += p.vx; p.y += p.vy;
          if(p.x < -20) p.x = w+20; if(p.x > w+20) p.x = -20;
          if(p.y < -20) p.y = h+20; if(p.y > h+20) p.y = -20;
        }
        requestAnimationFrame(tick);
      }
      window.addEventListener('resize', resize, { passive:true });
      const mo = new MutationObserver(resize);
      mo.observe(document.body, { attributes:true, attributeFilter:['data-theme'] });

      resize(); tick();
    })();

    // ========= Ripple effect (taille r√©duite) =========
    function addRipple(e){
      const el = e.currentTarget;
      const circle = document.createElement('span');
      const rect = el.getBoundingClientRect();
      const size = Math.max(rect.width, rect.height);
      circle.className = 'ripple';
      circle.style.width = circle.style.height = (size * 0.6) + 'px';
      circle.style.left = (e.clientX - rect.left - (size*0.6)/2) + 'px';
      circle.style.top  = (e.clientY - rect.top  - (size*0.6)/2) + 'px';
      el.appendChild(circle);
      circle.addEventListener('animationend', ()=>circle.remove());
    }

    // ========= Navigation interne + sauvegarde derni√®re section + transition =========
    const links = document.querySelectorAll('a[data-target]');
    const sections = document.querySelectorAll('main section');
    const navLinks = document.querySelectorAll('nav a[data-target]');

    function activateSection(id){
      sections.forEach(s => s.classList.remove('active'));
      const targetSection = document.getElementById(id);
      if(targetSection){
        targetSection.classList.add('active');
        targetSection.classList.add('transition-enter');
        requestAnimationFrame(()=> targetSection.classList.add('transition-enter-active'));
        setTimeout(()=> targetSection.classList.remove('transition-enter','transition-enter-active'), 500);

        const animated = targetSection.querySelectorAll('.card, .mission-card, .org-card');
        animated.forEach((el, i) => {
          el.style.animation = 'none'; void el.offsetWidth;
          el.style.animation = `orgIn .6s ${0.06 * i}s forwards`;
        });
        targetSection.scrollIntoView({behavior:'smooth', block:'start'});

        navLinks.forEach(a=>a.classList.toggle('active-link', a.getAttribute('data-target') === id));
      }
    }

    links.forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const targetId = link.getAttribute('data-target');
        localStorage.setItem('lastSection', targetId);
        activateSection(targetId);
      }, { passive:false });
      link.addEventListener('click', addRipple, { passive:true });
      link.classList.add('tap-bump');
    });

    const last = localStorage.getItem('lastSection');
    if(last && document.getElementById(last)) activateSection(last);

    // ========= Th√®me sombre/clair (clair par d√©faut) + click audio =========
    const toggle = document.getElementById('theme-toggle');
    const thumb = toggle.querySelector('.thumb');
    const storedTheme = localStorage.getItem('theme');
    const applyTheme = (t) => {
      document.body.dataset.theme = t;
      localStorage.setItem('theme', t);
      thumb.textContent = t === 'dark' ? '‚òÄÔ∏è' : 'üåô';
      document.body.style.filter = 'opacity(.98)';
      setTimeout(()=>document.body.style.filter = '', 200);
    };
    applyTheme(storedTheme === 'dark' ? 'dark' : 'light');

    toggle.addEventListener('click', () => {
      const next = document.body.dataset.theme === 'dark' ? 'light' : 'dark';
      applyTheme(next);
      AudioKit.playClick();
    }, { passive:true });

    // ========= Intro auto : ~2s puis fondu + whoosh (avec s√©curit√©) =========
    const intro = document.getElementById('intro-screen');
    const introSkip = document.getElementById('intro-skip');
    const introDisable = document.getElementById('intro-disable');
    const introSound = document.getElementById('intro-sound');

    function hideIntroNow(){
      if(!intro || !document.body.contains(intro)) return;
      intro.classList.add('intro-hidden');
      setTimeout(()=>{ if (document.body.contains(intro)) intro.remove(); }, 820);
    }

    (function initIntro(){
      try {
        if(localStorage.getItem('introDisabled') === 'true' || localStorage.getItem('introSeen') === 'true'){
          if (intro) intro.remove();
          return;
        }
      } catch(e){}

      window.addEventListener('DOMContentLoaded', () => {
        try { introSound.currentTime = 0; introSound.volume = 0.5; introSound.play().catch(()=>{}); } catch(e){}
        setTimeout(()=>{
          hideIntroNow();
          try { localStorage.setItem('introSeen','true'); } catch(e){}
        }, 2000 + Math.random()*300);
      });

      if(introSkip) introSkip.addEventListener('click', ()=>{
        hideIntroNow();
        try { localStorage.setItem('introSeen','true'); } catch(e){}
      }, { passive:true });

      if(introDisable) introDisable.addEventListener('click', () => {
        try { localStorage.setItem('introDisabled','true'); } catch(e){}
        hideIntroNow();
      }, { passive:true });

      window.addEventListener('keydown', (e)=>{
        if(e.key==='Enter' || e.key===' ') { hideIntroNow(); try { localStorage.setItem('introSeen','true'); } catch(e){} }
      });

      window.addEventListener('load', () => {
        setTimeout(() => {
          if (document.body.contains(intro)) { hideIntroNow(); try { localStorage.setItem('introSeen','true'); } catch(e){} }
        }, 3000);
      });
    })();

    // ========= Lazy fade-in images =========
    const lazyImgs = document.querySelectorAll('img[loading="lazy"]');
    const io = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if(entry.isIntersecting){
          entry.target.classList.add('loaded');
          io.unobserve(entry.target);
        }
      });
    }, { rootMargin: '100px' });
    lazyImgs.forEach(img => io.observe(img));

    // ========= Scroll progress bar + Parallaxe + BackToTop =========
    const progress = document.getElementById('progress');
    const backToTop = document.getElementById('backToTop');
    const onScroll = () => {
      const scrollY = window.scrollY || document.documentElement.scrollTop;
      const docH = document.documentElement.scrollHeight - window.innerHeight;
      const percent = Math.max(0, Math.min(1, scrollY / (docH || 1)));
      progress.style.width = (percent * 100) + '%';

      if(scrollY > 300) backToTop.classList.add('show'); else backToTop.classList.remove('show');

      document.body.style.setProperty('--parallaxY', (scrollY * 0.02) + 'px');
      document.body.style.setProperty('--parallaxX', (scrollY * 0.01) + 'px');
    };
    window.addEventListener('scroll', onScroll, { passive:true });
    onScroll();
    backToTop.addEventListener('click', () => window.scrollTo({ top:0, behavior:'smooth' }), { passive:true });

    // ========= Surbrillance menu selon section visible =========
    const sectionObserver = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          const id = entry.target.id;
          navLinks.forEach(a=>{
            a.classList.toggle('active-link', a.getAttribute('data-target') === id);
          });
          const h2 = entry.target.querySelector('h2');
          if(h2){ h2.classList.add('inview'); setTimeout(()=>h2.classList.remove('inview'), 1200); }
        }
      });
    }, { threshold:.55 });
    sections.forEach(s=> sectionObserver.observe(s));

    // ========= Mode Pr√©sentation Jury (corrig√© pour sortir proprement) =========
    const presBtn = document.getElementById('presentation-mode');
    const juryBar = document.getElementById('jury-controls');
    const juryPrev = document.getElementById('jury-prev');
    const juryNext = document.getElementById('jury-next');
    const juryQuit = document.getElementById('jury-quit');

    let presOn = false;
    const headerEl = document.querySelector('header');
    const navEl = document.querySelector('nav');
    const fullEl = document.documentElement;

    const order = Array.from(document.querySelectorAll('main section')).map(s=>s.id);
    function currentSectionIndex(){
      const active = document.querySelector('main section.active');
      return Math.max(0, order.indexOf(active?.id || 'accueil'));
    }
    function navigate(delta){
      const i = currentSectionIndex();
      const nextIndex = Math.min(order.length-1, Math.max(0, i + delta));
      const nextId = order[nextIndex];
      localStorage.setItem('lastSection', nextId);
      activateSection(nextId);
    }

    function enterPresentation(){
      presOn = true;
      headerEl.style.opacity = '0';
      navEl.style.opacity = '0';
      headerEl.style.transform = 'translateY(-10px)';
      navEl.style.transform = 'translateY(-10px)';
      setTimeout(()=>{ headerEl.style.display = 'none'; navEl.style.display = 'none'; }, 220);
      document.querySelector('.progress-bar').style.display = 'none';
      document.getElementById('backToTop').style.display = 'none';
      juryBar.style.display = 'flex';
      if (fullEl.requestFullscreen) fullEl.requestFullscreen().catch(()=>{});
      presBtn.textContent = '‚§∫ Quitter';
    }

    function exitPresentation(){
      presOn = false;
      headerEl.style.display = '';
      navEl.style.display = '';
      requestAnimationFrame(()=>{
        headerEl.style.opacity = '1';
        navEl.style.opacity = '1';
        headerEl.style.transform = 'none';
        navEl.style.transform = 'none';
      });
      document.querySelector('.progress-bar').style.display = '';
      document.getElementById('backToTop').style.display = '';
      juryBar.style.display = 'none';
      if (document.fullscreenElement && document.exitFullscreen) document.exitFullscreen().catch(()=>{});
      presBtn.textContent = 'üé§ Pr√©sentation';
    }

    function togglePresentation(){ presOn ? exitPresentation() : enterPresentation(); }
    presBtn.addEventListener('click', togglePresentation, { passive:true });
    juryPrev.addEventListener('click', ()=>navigate(-1), { passive:true });
    juryNext.addEventListener('click', ()=>navigate(1), { passive:true });
    juryQuit.addEventListener('click', exitPresentation, { passive:true });

    window.addEventListener('keydown', (e)=>{
      if(!presOn) return;
      if(e.key === 'ArrowLeft'){ e.preventDefault(); navigate(-1); }
      if(e.key === 'ArrowRight'){ e.preventDefault(); navigate(1); }
      if(e.key === 'Escape'){ e.preventDefault(); exitPresentation(); }
    });

    // ========= Ripple sur mission cards et liens =========
    document.querySelectorAll('.mission-card, .welcome-links a, nav > ul > li > a').forEach(el=>{
      el.addEventListener('click', addRipple, { passive:true });
    });

    // ========= Signature typewriter (footer) =========
    (function(){
      const sig = document.getElementById('sig');
      const full = sig.innerHTML;
      let i=0;
      function type(){
        sig.innerHTML = full.slice(0, i++) + '<span style="opacity:.4">|</span>';
        if(i <= full.length) requestAnimationFrame(type);
        else sig.innerHTML = full;
      }
      setTimeout(type, 500);
    })();

    // ========= Initialisation de la CARTE (Leaflet) =========
    (function initMap(){
      const el = document.getElementById('map-cf');
      if(!el) return;
      // Coordonn√©es approximatives de la Com√©die-Fran√ßaise (Place Colette)
      const cf = [48.8638, 2.3376];

      // Carte claire standard (OSM)
      const map = L.map(el, {
        zoomControl: true,
        scrollWheelZoom: false, // √©vite les zooms involontaires pendant le scroll
        attributionControl: true
      }).setView(cf, 16);

      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; OpenStreetMap contributors'
      }).addTo(map);

      const marker = L.marker(cf).addTo(map);
      marker.bindPopup('<b>Com√©die-Fran√ßaise</b><br>1 Pl. Colette, 75001 Paris').openPopup();

      // Ajuste la taille du canvas de la carte si l‚Äôonglet est activ√© plus tard
      const observer = new MutationObserver(()=>{ map.invalidateSize(false); });
      observer.observe(document.getElementById('presentation_entreprise'), { attributes:true, attributeFilter:['class'] });

      // Invalidate size au redimensionnement
      window.addEventListener('resize', ()=> map.invalidateSize(false), { passive:true });
    })();
  </script>
</body>
</html>
